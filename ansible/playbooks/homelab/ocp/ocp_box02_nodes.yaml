---
- name: Create OCP4 storage nodes
  gather_facts: no
  become: yes
  hosts:
    - box02.lan.stderr.at
  vars:
    virthost_interface: eno1
    virthost_ip4: 10.0.0.208/24
    virthost_gw4: 10.0.0.138
    virthost_dns4: 10.0.0.254
    virthost_dns4_search: "lan.stderr.at"
    satellite:
      host: https://satellite.lan.stderr.at
    lab:
      ssh_public_key: ""
      name: ocp
      network:
        type: bridge
        name: bridge0
      hosts:
        - name: stor03
          network: bridge0
          macaddr: "52:54:00:01:01:92"
          ipaddr: "10.0.0.192"
          disksize: 120G
          memory: 20480
          cpu: 4
          image: blank
          additional_disks:
            - name: stor03-vdb
              target: vdb
              size: 200G
        - name: worker03
          network: bridge0
          macaddr: "52:54:00:01:01:93"
          ipaddr: "10.0.0.193"
          disksize: 120G
          memory: 16384
          cpu: 2
          image: blank
        - name: worker04
          network: bridge0
          macaddr: "52:54:00:01:01:94"
          ipaddr: "10.0.0.194"
          disksize: 120G
          memory: 16384
          cpu: 2
          image: blank
        - name: infra02
          network: bridge0
          macaddr: "52:54:00:01:01:86"
          ipaddr: "10.0.0.186"
          disksize: 120G
          memory: 8192
          cpu: 2
          image: blank

  roles:
    - virthost
    - lab
